<!DOCTYPE html>
<html lang="ko">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Cache-control" content="No-cache" />
    <meta http-equiv="Expires" content="0" />
    <meta http-equiv="Pragma" content="No-cache" />
    <meta name="format-detection" content="telephone=no" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>기업뱅킹 이용가이드</title>

    <!-- 이용가이드 CSS -->
    <link rel="stylesheet" href="/cont/resource/css/ocp.guide.css" />
    <link rel="stylesheet" href="/cont/resource/css/ocp.guideStage.css" />

    <style>
        .stage-content-popup {
            top: 1470px;
        }

        .popup-body-content.step1 {
            top: 0px;
        }

        .popup-body-content.step2 {
            top: 0px;
        }

        .popup-body-content.step3 {
            top: -419px;
        }
    </style>
</head>

<body>
    <div id="stage">
        <div class="stage-box">
            <div class="stage-frame">
                <div id="stageContent" class="stage-content">
                    <article class="stage-content-body">
                        <img src="/cont/resource/img/guide/sample/popup_content.png" alt="" />
                    </article>

                    <article id="popup" class="stage-content-popup">
                        <img src="/cont/resource/img/guide/sample/popup_frame.png" alt="" />

                        <!-- 팝업 컨텐츠 영역 -->
                        <div class="popup-body">
                            <!-- 실제 스크롤되는 전체 컨텐츠 이미지 -->
                            <div id="popupContent" class="popup-body-content step1">
                                <img src="/cont/resource/img/guide/sample/popup_body.png" alt="" />
                            </div>
                        </div>
                        <!-- // 팝업 스크롤 영역 컨테이너 -->
                    </article>

                    <div id="touchPoint" class="touch-point">
                        <button type="button"></button>
                    </div>
                </div>
            </div>

            <div class="stage-controls">
                <div class="stage-controls-buttons">
                    <button type="button" id="btn-play" class="btn-play on"></button>
                    <button type="button" id="btn-pause" class="btn-pause off"></button>
                    <span class="text-B4-B-14">자동재생</span>
                </div>
                <div class="stage-controls-progress">
                    <div id="progress-bar" class="progress-bar">
                        <div id="progress-bar-fill" class="progress-bar-fill"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="/cont/resource/js/ocp.guideStage.js"></script>
    <script>
        var stageObj = {
            data: {
                process: [{
                    index: 0,
                    type: 'default',
                    pointer: {
                        left: 191,
                        top: 347
                    },
                    scrollTop: 400,
                    description: ''
                },
                {
                    index: 1,
                    type: 'scroll',
                    pointer: {
                        left: 675,
                        top: 1636
                    },
                    scrollTop: 1470,
                    description: '자주쓰는 이체를 통해 이체정보를 간편하게 입력할 수 있습니다.'
                },
                {
                    index: 2,
                    type: 'popup',
                    pointer: {
                        left: 183,
                        top: 1611
                    },
                    scrollTop: 1470,
                    description: '팝업보기'
                },
                {
                    index: 3,
                    type: 'popup',
                    pointer: {
                        left: 403,
                        top: 1933
                    },
                    scrollTop: 1470,
                    description: '팝업보기'
                },
                {
                    index: 4,
                    type: 'popup',
                    pointer: {
                        left: 156,
                        top: 1716
                    },
                    scrollTop: 1470,
                    description: '팝업보기'
                },
                ]
            }
        }

        document.addEventListener('processChange', function (event) {
            var _current = event.detail.current
            var _index = event.detail.index
            var _total = event.detail.total
            console.log(
                '화면 이벤트 리스너 - 현재 단계:',
                _current,
                '/ 전체:',
                _total,
                '/ 인덱스:',
                _index
            )

            if (_index === 2) {
                document.getElementById('popup').classList.add('on');
                document.getElementById('popupContent').className = 'popup-body-content';
                document.getElementById('popupContent').classList.add('step1');
            } else if (_index === 3) {
                document.getElementById('popupContent').className = 'popup-body-content';
                document.getElementById('popupContent').classList.add('step2');
            } else if (_index === 4) {
                document.getElementById('popupContent').className = 'popup-body-content';
                document.getElementById('popupContent').classList.add('step3');
            }
        })

        GUIDE_STAGE.init(stageObj)
    </script>
</body>

</html>